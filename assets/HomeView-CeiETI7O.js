import{u as X,r as x,c as n,a as w,b as y,d as t,e as a,f as o,n as c,t as l,w as u,T as k,g as J,v as Y,h as Z,F as _,i as C,j as S,k as tt,l as et,m as st,o as i,p as b,q as H,s as B,x as at}from"./index-ZeLMURKm.js";import{_ as ot,u as rt,U as A,a as it,S as nt}from"./SettingsModal-C-283QE5.js";import{T as z,M as lt}from"./Tooltip-DEW7lJIC.js";import{_ as dt,C as D,a as ct}from"./DesktopSidebar-CKrVgw7h.js";import{u as ut}from"./useBranding-BgoXNB1X.js";import{U as mt,S as pt,L as gt}from"./utensils-BJySSQoJ.js";import{H as xt}from"./house-hZ3Iz92q.js";import{P as E}from"./package-hbObr9nQ.js";import{S as yt}from"./search-CvYY6tRx.js";import{X as ht,L as I}from"./x-BExmgkZn.js";import{c as ft}from"./createLucideIcon-Cp_9tCS2.js";import{M as bt}from"./map-pin-Dsjj7qtc.js";/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ft("StoreIcon",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),wt={key:0,class:"hidden lg:flex items-center justify-between px-6 py-3 border-b border-gray-200 dark:border-primary-600/40 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"},kt={class:"flex items-center gap-3"},_t={class:"w-6 h-6 flex flex-col justify-center items-center"},Ct={class:"relative"},St={class:"px-4 py-2 border-b border-gray-100"},At={class:"text-sm font-medium text-gray-900"},jt={class:"text-xs text-gray-500"},zt={class:"bg-gradient-to-br from-primary-600 to-primary-400 text-white relative"},Et={class:"container mx-auto px-4 py-4"},Mt={class:"w-6 h-6 flex flex-col justify-center items-center"},Ut={class:"flex items-center gap-3"},$t=["src"],Pt={class:"flex gap-2"},Tt={key:0,class:"relative"},Vt={class:"hidden sm:inline"},Lt={class:"px-4 py-2 border-b border-gray-100"},Ht={class:"text-sm font-medium text-gray-900"},Bt={class:"text-xs text-gray-500"},Dt={class:"mt-4 bg-white rounded-full flex items-center px-4 py-3 shadow-lg"},It={class:"flex gap-3 mt-4 overflow-x-auto pb-2"},Ot=["onClick"],Rt={class:"flex items-center justify-between p-6 border-b border-white/20"},qt={class:"flex items-center gap-3"},Nt=["src"],Wt={class:"p-6 flex-1 overflow-y-auto"},Ft={class:"space-y-6"},Gt={class:"text-center"},Kt={class:"space-y-3"},Qt={class:"border-t border-white/20 pt-6"},Xt={class:"space-y-2"},Jt={id:"categories",class:"container mx-auto px-4 py-6"},Yt={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-4"},Zt={class:"w-12 h-12 mx-auto bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mb-2"},te={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},ee={id:"products",class:"container mx-auto px-4 py-6"},se={class:"flex items-center justify-between mb-4"},ae={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},oe=["onClick"],re={class:"aspect-square bg-gray-200 dark:bg-gray-700 flex items-center justify-center relative overflow-hidden"},ie={class:"p-3"},ne={class:"font-semibold text-sm text-gray-800 dark:text-white mb-1 line-clamp-2"},le={class:"text-primary-600 dark:text-primary-400 font-bold text-lg mb-2"},de={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},ce={id:"companies",class:"container mx-auto px-4 py-6"},ue={class:"flex items-center justify-between mb-4"},me={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},pe={class:"flex items-start gap-3"},ge={class:"w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-xl flex items-center justify-center flex-shrink-0"},xe={class:"flex-1"},ye={class:"font-semibold text-gray-800 dark:text-white mb-1"},he={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},fe={class:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400"},be={class:"text-xs"},ve={class:"lg:hidden"},we={__name:"HomeView",setup(ke){const v=st(),r=X(),j=x(""),h=x(!1),g=x(!1),O=rt(),m=x(!1),{logoSrc:M}=ut(),R=x([{id:1,name:"Alimentos"},{id:2,name:"Ropa"},{id:3,name:"Electrónica"},{id:4,name:"Hogar"}]),q=x([{id:1,name:"Alimentos",icon:mt},{id:2,name:"Ropa",icon:pt},{id:3,name:"Electrónica",icon:gt},{id:4,name:"Hogar",icon:xt},{id:5,name:"Otros",icon:E},{id:6,name:"Ver más",icon:E}]),N=x([{id:1,name:"Producto Ejemplo 1",price:150,company:"Tienda A",whatsappLink:"https://wa.me/5351234567?text=Hola,%20me%20interesa%20tu%20Producto%20Ejemplo%201"},{id:2,name:"Producto Ejemplo 2",price:200,company:"Tienda B",whatsappLink:"https://wa.me/5352345678?text=Hola,%20me%20interesa%20tu%20Producto%20Ejemplo%202"},{id:3,name:"Producto Ejemplo 3",price:175,company:"Tienda C",whatsappLink:"https://wa.me/5353456789?text=Hola,%20me%20interesa%20tu%20Producto%20Ejemplo%203"},{id:4,name:"Producto Ejemplo 4",price:300,company:"Tienda D",whatsappLink:"https://wa.me/5354567890?text=Hola,%20me%20interesa%20tu%20Producto%20Ejemplo%204"}]),W=x([{id:1,name:"La Esquina",category:"Alimentos",location:"Vedado, La Habana"},{id:2,name:"Electro Store",category:"Electrónica",location:"Centro Habana"},{id:3,name:"Moda y Estilo",category:"Ropa",location:"Miramar"}]),F=()=>{if(!r.isAuthenticated){alert("Para buscar productos, necesitas iniciar sesión primero.");return}j.value.trim()&&v.push("/app/search")},G=d=>{if(!r.isAuthenticated){alert("Para explorar categorías, necesitas iniciar sesión primero.");return}v.push("/app/categories")},K=d=>{if(!r.isAuthenticated){alert("Para contactar al vendedor, necesitas iniciar sesión primero.");return}d.whatsappLink?window.open(d.whatsappLink,"_blank"):alert("Este vendedor aún no ha configurado su contacto de WhatsApp.")},f=()=>{h.value=!h.value},U=d=>{h.value=!1,et(()=>{const e=document.getElementById(d);e&&e.scrollIntoView({behavior:"smooth"})})},$=()=>{g.value=!g.value},Q=()=>{O.openSettings(),g.value=!1},P=()=>{g.value=!1,v.push("/app/profile")},T=()=>{g.value=!1,r.logout(),v.push("/")};return(d,e)=>{var L;const V=tt("router-link");return i(),n("div",{class:c(["min-h-screen bg-gray-50 dark:bg-gray-900",{"pb-20":a(r).isAuthenticated&&a(r).isCommonUser}])},[a(r).isAuthenticated&&a(r).isCommonUser?(i(),w(dt,{key:0,"is-open":m.value,onClose:e[0]||(e[0]=s=>m.value=!1)},null,8,["is-open"])):y("",!0),m.value?(i(),n("div",{key:1,class:"hidden lg:block fixed inset-0 bg-black/50 z-30",onClick:e[1]||(e[1]=s=>m.value=!1)})):y("",!0),t("div",{class:c(["transition-all duration-300",{"lg:ml-64":m.value}])},[a(r).isAuthenticated&&a(r).isCommonUser?(i(),n("div",wt,[t("div",kt,[t("button",{onClick:e[2]||(e[2]=s=>m.value=!m.value),class:"p-2 rounded-lg transition-colors text-gray-700 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800"},[t("div",_t,[t("span",{class:c(["block w-5 h-0.5 bg-current mb-1 transition-all duration-300",{"rotate-45 translate-y-1.5":m.value}])},null,2),t("span",{class:c(["block w-5 h-0.5 bg-current mb-1 transition-all duration-300",{"opacity-0":m.value}])},null,2),t("span",{class:c(["block w-5 h-0.5 bg-current transition-all duration-300",{"-rotate-45 -translate-y-1.5":m.value}])},null,2)])]),e[14]||(e[14]=t("span",{class:"text-lg font-semibold"},"Inicio",-1))]),t("div",Ct,[t("button",{onClick:$,class:"flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-full transition-all duration-200 bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-primary-900/40 dark:text-primary-100 dark:hover:bg-primary-800/40"},[o(a(A),{size:18}),t("span",null,l(((L=a(r).currentUser)==null?void 0:L.name)||"Usuario"),1),o(a(D),{size:14,class:c([{"rotate-180":g.value},"transition-transform duration-200"])},null,8,["class"])]),o(k,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95 translate-y-[-10px]","enter-to-class":"opacity-100 scale-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 scale-100 translate-y-0","leave-to-class":"opacity-0 scale-95 translate-y-[-10px]"},{default:u(()=>{var s,p;return[g.value?(i(),n("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onClick:e[3]||(e[3]=S(()=>{},["stop"]))},[t("div",St,[t("p",At,l(((s=a(r).currentUser)==null?void 0:s.name)||"Usuario"),1),t("p",jt,l(((p=a(r).currentUser)==null?void 0:p.email)||"usuario@email.com"),1)]),t("button",{onClick:P,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2"},[o(a(A),{size:16}),e[15]||(e[15]=b(" Ver Perfil ",-1))]),t("button",{onClick:T,class:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2"},[o(a(I),{size:16}),e[16]||(e[16]=b(" Cerrar Sesión ",-1))])])):y("",!0)]}),_:1})])])):y("",!0),t("header",zt,[t("div",Et,[t("div",{class:c(["flex items-center justify-between",{"lg:hidden":a(r).isAuthenticated&&a(r).isCommonUser}])},[a(r).isAuthenticated?y("",!0):(i(),n("button",{key:0,onClick:f,class:"p-2 rounded-lg hover:bg-white/10 transition-colors","aria-label":"Abrir menú"},[t("div",Mt,[t("span",{class:c(["block w-5 h-0.5 bg-white mb-1 transition-all duration-300",{"rotate-45 translate-y-1.5":h.value}])},null,2),t("span",{class:c(["block w-5 h-0.5 bg-white mb-1 transition-all duration-300",{"opacity-0":h.value}])},null,2),t("span",{class:c(["block w-5 h-0.5 bg-white transition-all duration-300",{"-rotate-45 -translate-y-1.5":h.value}])},null,2)])])),t("div",Ut,[t("img",{src:a(M),alt:"MoviSoft",class:"w-12 h-12 object-contain"},null,8,$t),e[17]||(e[17]=t("div",null,[t("h1",{class:"text-xl font-bold"},"Tu Mercadito"),t("p",{class:"text-xs text-primary-100"},"Mobile Service")],-1))]),t("div",Pt,[a(r).isAuthenticated?(i(),n("div",Tt,[o(z,{content:"Opciones de usuario"},{default:u(()=>{var s;return[t("button",{onClick:$,class:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-primary-600 bg-white rounded-full hover:bg-primary-50 transition-all duration-200"},[o(a(A),{size:18}),t("span",Vt,l(((s=a(r).currentUser)==null?void 0:s.name)||"Usuario"),1),o(a(D),{size:14,class:c([{"rotate-180":g.value},"transition-transform duration-200"])},null,8,["class"])])]}),_:1}),o(k,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95 translate-y-[-10px]","enter-to-class":"opacity-100 scale-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 scale-100 translate-y-0","leave-to-class":"opacity-0 scale-95 translate-y-[-10px]"},{default:u(()=>{var s,p;return[g.value?(i(),n("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onClick:e[4]||(e[4]=S(()=>{},["stop"]))},[t("div",Lt,[t("p",Ht,l(((s=a(r).currentUser)==null?void 0:s.name)||"Usuario"),1),t("p",Bt,l(((p=a(r).currentUser)==null?void 0:p.email)||"usuario@email.com"),1)]),t("button",{onClick:P,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2"},[o(a(A),{size:16}),e[18]||(e[18]=b(" Ver Perfil ",-1))]),t("button",{onClick:Q,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2"},[o(a(nt),{size:16}),e[19]||(e[19]=b(" Ajustes ",-1))]),t("button",{onClick:T,class:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2"},[o(a(I),{size:16}),e[20]||(e[20]=b(" Cerrar Sesión ",-1))])])):y("",!0)]}),_:1})])):(i(),w(z,{key:1,content:"Accede a tu cuenta para explorar productos"},{default:u(()=>[t("button",{onClick:e[5]||(e[5]=s=>d.$router.push("/auth/login-common")),class:"px-4 py-2 text-sm font-medium text-primary-600 bg-white rounded-full hover:bg-primary-50 transition-all duration-200"}," Entrar ")]),_:1}))])],2),t("div",Dt,[o(a(yt),{class:"text-gray-400",size:20}),J(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>j.value=s),type:"text",placeholder:"Buscar productos, empresas...",class:"flex-1 ml-3 outline-none text-gray-700",onKeyup:Z(F,["enter"])},null,544),[[Y,j.value]])]),t("div",It,[(i(!0),n(_,null,C(R.value,s=>(i(),n("button",{key:s.id,onClick:p=>G(s.id),class:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-full text-sm font-medium whitespace-nowrap hover:bg-white/30"},l(s.name),9,Ot))),128))])])]),h.value&&!a(r).isAuthenticated?(i(),n("div",{key:1,class:"fixed inset-0 z-50",onClick:f},[e[25]||(e[25]=t("div",{class:"absolute inset-0 bg-black/50"},null,-1)),t("div",{class:"absolute left-0 top-0 h-full w-80 max-w-[90vw] bg-gradient-to-br from-primary-600 to-primary-400 text-white shadow-2xl transform transition-transform duration-300 ease-in-out flex flex-col",onClick:e[13]||(e[13]=S(()=>{},["stop"]))},[t("div",Rt,[t("div",qt,[t("img",{src:a(M),alt:"MoviSoft",class:"w-10 h-10 object-contain"},null,8,Nt),e[21]||(e[21]=t("div",null,[t("h2",{class:"text-lg font-bold"},"Tu Mercadito"),t("p",{class:"text-xs text-primary-100"},"Explora y Regístrate")],-1))]),t("button",{onClick:f,class:"p-2 rounded-lg hover:bg-white/10 transition-colors","aria-label":"Cerrar menú"},[o(a(ht),{size:24})])]),t("div",Wt,[t("div",Ft,[t("div",Gt,[e[22]||(e[22]=t("h3",{class:"text-2xl font-bold mb-4"},"¿Eres dueño de un negocio?",-1)),e[23]||(e[23]=t("p",{class:"text-primary-100 mb-6 max-w-md mx-auto text-sm leading-relaxed"}," Registra tu empresa y llega a más clientes. Gestiona tus productos, contactos y localizaciones fácilmente. ",-1)),t("div",Kt,[t("button",{onClick:e[7]||(e[7]=s=>{d.$router.push("/auth/register-company"),f()}),class:"w-full px-6 py-3 bg-white text-primary-600 rounded-full font-semibold hover:bg-primary-50 transition-colors"}," Registrar Empresa "),t("button",{onClick:e[8]||(e[8]=s=>{d.$router.push("/auth/login-company"),f()}),class:"w-full px-6 py-3 bg-white/10 backdrop-blur-sm border-2 border-white text-white rounded-full font-semibold hover:bg-white/20 transition-colors"}," Iniciar Sesión ")])]),t("div",Qt,[e[24]||(e[24]=t("h4",{class:"font-semibold mb-4"},"Opciones",-1)),t("div",Xt,[t("button",{onClick:e[9]||(e[9]=s=>{d.$router.push("/auth/login-common"),f()}),class:"w-full text-left px-4 py-2 text-primary-100 hover:text-white hover:bg-white/10 rounded-lg transition-colors"}," 👤 Soy Cliente → "),t("button",{onClick:e[10]||(e[10]=s=>U("categories")),class:"w-full text-left px-4 py-2 text-primary-100 hover:text-white hover:bg-white/10 rounded-lg transition-colors"}," 📂 Ver Categorías → "),t("button",{onClick:e[11]||(e[11]=s=>U("products")),class:"w-full text-left px-4 py-2 text-primary-100 hover:text-white hover:bg-white/10 rounded-lg transition-colors"}," 🛍️ Productos Destacados → "),t("button",{onClick:e[12]||(e[12]=s=>{d.$router.push("/auth/login-company"),f()}),class:"w-full text-left px-4 py-2 text-primary-100 hover:text-white hover:bg-white/10 rounded-lg transition-colors"}," 🏢 Soy Empresa → ")])])])])])])):y("",!0),o(k,{name:"fade-slide",appear:""},{default:u(()=>[t("section",Jt,[e[26]||(e[26]=t("h2",{class:"text-xl font-bold text-gray-800 dark:text-white mb-4"},"Categorías Populares",-1)),t("div",Yt,[o(H,{name:"fade-scale",tag:"div",class:"contents"},{default:u(()=>[(i(!0),n(_,null,C(q.value,(s,p)=>(i(),n("div",{key:s.id,class:"bg-white dark:bg-gray-800 rounded-xl p-4 text-center cursor-pointer hover:shadow-md transition-all duration-300 hover:scale-105",style:B({animationDelay:`${p*100}ms`})},[t("div",Zt,[(i(),w(at(s.icon),{size:24,class:"text-primary-600 dark:text-primary-400"}))]),t("p",te,l(s.name),1)],4))),128))]),_:1})])])]),_:1}),o(k,{name:"fade-slide",appear:""},{default:u(()=>[t("section",ee,[t("div",se,[e[28]||(e[28]=t("h2",{class:"text-xl font-bold text-gray-800 dark:text-white"},"Productos Destacados",-1)),o(V,{to:"/auth/login-common",class:"text-sm text-primary-600 dark:text-primary-400 font-medium hover:text-primary-700 dark:hover:text-primary-300 transition-colors"},{default:u(()=>[...e[27]||(e[27]=[b(" Ver todos → ",-1)])]),_:1})]),t("div",ae,[o(H,{name:"fade-scale",tag:"div",class:"contents"},{default:u(()=>[(i(!0),n(_,null,C(N.value,(s,p)=>(i(),n("div",{key:s.id,class:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-sm cursor-pointer hover:shadow-md transition-all duration-300 hover:scale-105 relative",style:B({animationDelay:`${p*150}ms`})},[o(z,{content:"Contactar por WhatsApp"},{default:u(()=>[t("button",{onClick:S(_e=>K(s),["stop"]),class:"absolute top-3 right-3 z-10 w-8 h-8 bg-green-500 hover:bg-green-600 rounded-full flex items-center justify-center shadow-lg transition-colors"},[o(a(lt),{size:16,class:"text-white"})],8,oe)]),_:2},1024),t("div",re,[o(a(E),{class:"text-gray-400 dark:text-gray-500",size:48}),e[29]||(e[29]=t("div",{class:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors duration-300 flex items-center justify-center"},[t("div",{class:"opacity-0 hover:opacity-100 transition-opacity duration-300"},[t("button",{class:"bg-primary-600 text-white px-3 py-1 rounded-full text-xs font-medium"}," Ver producto ")])],-1))]),t("div",ie,[t("h3",ne,l(s.name),1),t("p",le,"$"+l(s.price),1),t("p",de,l(s.company),1)])],4))),128))]),_:1})])])]),_:1}),t("section",ce,[t("div",ue,[e[31]||(e[31]=t("h2",{class:"text-xl font-bold text-gray-800 dark:text-white"},"Empresas Destacadas",-1)),o(V,{to:"/auth/login-common",class:"text-sm text-primary-600 dark:text-primary-400 font-medium hover:text-primary-700 dark:hover:text-primary-300 transition-colors"},{default:u(()=>[...e[30]||(e[30]=[b(" Ver todas → ",-1)])]),_:1})]),t("div",me,[(i(!0),n(_,null,C(W.value,s=>(i(),n("div",{key:s.id,class:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow"},[t("div",pe,[t("div",ge,[o(a(vt),{size:32,class:"text-primary-600 dark:text-primary-400"})]),t("div",xe,[t("h3",ye,l(s.name),1),t("p",he,l(s.category),1),t("div",fe,[o(a(bt),{size:14}),t("span",be,l(s.location),1)])])])]))),128))])]),e[32]||(e[32]=t("footer",{class:"bg-gray-800 dark:bg-gray-900 text-gray-300 py-8 mt-12"},[t("div",{class:"container mx-auto px-4 text-center"},[t("p",{class:"text-sm"},"© 2024 Tu Mercadito - MoviSoft. Todos los derechos reservados.")])],-1)),t("div",ve,[a(r).isAuthenticated&&a(r).isCommonUser?(i(),w(ct,{key:0})):y("",!0)]),o(it)],2)],2)}}},Le=ot(we,[["__scopeId","data-v-c2fb6b85"]]);export{Le as default};
